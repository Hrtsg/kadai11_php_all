<!-- 共通テンプレートの呼び出し -->
{% extends "base.html" %}
<!-- カスタムテンプレートタグの読み込み -->
{% load django_bootstrap5 %}

{% block content %}
<h1 class="mt-5">CRUD app with Django</h1>

{% for article in object_list %}
<div class="card big-light shadow-sm mt-3">
    <div class="card-body">
        <p>{{article.id}}:{{article.author}}:{{article.created_at}}</p>
        <p><a href='{% url "bbs:detail" article.id %}'>{{article.content}}</a></p>
    </div>
</div>
{% endfor %}

<!-- ログインしている場合のみ新規投稿を可能にする -->
{% if user.is_authenticated %}
<div class="mt-3">
    <a href="{% url 'bbs:create' %}">{% bootstrap_button button_type="submit" content="新規投稿" size="md" %}</a>
</div>
{% endif %}
{% endblock %}